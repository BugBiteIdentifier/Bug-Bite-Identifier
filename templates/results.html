<!DOCTYPE html>
<html>

<head>
    <title>Prediction Result</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='results.css') }}">
</head>

<body>
    <div class="title-container">
        <h1 class="title">Your Bug Bite Analysis</h1>
        <p class="result-subtitle">Based on the uploaded image</p>
    </div>

    <div class="result-container">
        <a href="{{ url_for('home') }}"><button class="submit-button">New Analysis</button></a>

        <div class="analysis">
            <h1>Analysis Results</h1>
            <div class="analysis-items">
                <p class="prediction-text">Identified as <br> <strong>{{ label }} Bite</strong></p>
                <p class="duration-text" id="dtext">Expected Duration<br><strong>placeholder</strong></p>
                <p class="severity-text" id="stext">Severity<br><strong>placeholder</strong></p>
            </div>

        </div>
        <div id="isBite">
            <div class="treatment">
                <h1>Treatment Recommendations</h1>
                <ul class="treatmentlist">
                    <li id="treat1">Example treatment #1</li>
                    <li id="treat2">Example treatment #2</li>
                    <li id="treat3">Example treatment #3</li>
                    <li id="treat4">Example treatment #4</li>
                    <li id="treat5">Example treatment #5</li>
                </ul>
            </div>

            <div class="symptoms">
                <h1>Common Symptoms</h1>
                <ul class="symptomlist">
                    <li id="sym1">Example symptom #1</li>
                    <li id="sym2">Example symptom #2</li>
                    <li id="sym3">Example symptom #3</li>
                    <li id="sym4">Example symptom #4</li>
                    <li id="sym5">Example symptom #5</li>
                    <li id="sym6">Example symptom #5</li>
            </div>

            <div class="medical-help">
                <h1>When to Seek Medical Help</h1>
                <ul class="medicallist">
                    <li id="help1">Example warning #1</li>
                    <li id="help2">Example warning #2</li>
                    <li id="help3">Example warning #3</li>
                    <li id="help4">Example warning #4</li>
                    <li id="help5">Example warning #5</li>
            </div>
        </div>

        <!--this line right here is testing that we can get the result and pass text from it correctly-->
        <p id="bugInfo"></p>

        <!--CODE TO DETERMINE BUG INFO-->
        <script>
            let bugInfo = "";

            //Use tojson so Flask adds proper quotes and escaping
            //this says it has an error but it appears to work still??
            const bugType = {{ label | tojson }};

            switch (bugType) {
                case "Ant":
                    //setting bug info like this was just for my testing purposes, the text itself is now commented out under the switch
                    bugInfo = "DISPLAY ANT INFO HERE";

                    document.getElementById("dtext").textContent = "Expected Duration: 2-3 days or 3-7 days if fire ant";
                    document.getElementById("stext").textContent = "Severity: Low";

                    document.getElementById("treat1").textContent = "Apply ice to reduce swelling";
                    document.getElementById("treat2").textContent = "Take antihisamines or apply a topical cream to reduce itching";
                    document.getElementById("treat3").textContent = "Take acetaminophine to alleviate pain";
                    document.getElementById("treat4").textContent = "Take corticosteroids for swelling";
                    document.getElementById("treat5").textContent = "Receive an epinephrine injection if you are having an allergic reaction";
                    

                    document.getElementById("sym1").textContent = "Hives and swelling";
                    document.getElementById("sym2").textContent = "Itchiness";
                    document.getElementById("sym3").textContent = "Abdominal Pain";
                    document.getElementById("sym4").textContent = "Tightness in chest and/or difficulty breathing";
                    document.getElementById("sym5").textContent = "Nausea or vomiting";
                    document.getElementById("sym6").textContent = "Dizziness";

                    document.getElementById("help1").textContent = "When you have symptoms of an allergic reaction";
                    document.getElementById("help2").textContent = "If you experience swelling or hives forming around your body";
                    document.getElementById("help3").textContent = "If you experience vomiting";
                    document.getElementById("help4").textContent = "If you experience abdominal pain";
                    document.getElementById("help5").textContent = "If you experience severe itching";

                    break;

                case "Bedbug":
                    bugInfo = "DISPLAY BEDBUG INFO HERE";

                    document.getElementById("dtext").textContent = "Expected Duration: 1 to 2 weeks";
                    document.getElementById("stext").textContent = "Severity: Low to Moderate";

                    document.getElementById("treat1").textContent = "Wash affected area with soap and water to reduce risk of infection";
                    document.getElementById("treat2").textContent = "Apply topical corticosteroid cream to reduce inflammation and itching";
                    document.getElementById("treat3").textContent = "Take oral antihistamines to relieve itching";
                    document.getElementById("treat4").textContent = "Use a cold compress to reduce swelling and discomfort";
                    document.getElementById("treat5").textContent = "Avoid scratching to prevent skin infection";

                    document.getElementById("sym1").textContent = "Red, itchy welts often arranged in a line or cluster";
                    document.getElementById("sym2").textContent = "Localized swelling or mild inflammation";
                    document.getElementById("sym3").textContent = "Burning or stinging sensation at bite sites";
                    document.getElementById("sym4").textContent = "Possible secondary skin infection from scratching";
                    document.getElementById("sym5").textContent = "Insomnia or anxiety from repeated bites";
                    document.getElementById("sym6").textContent = "Allergic reaction (rare)";

                    document.getElementById("help1").textContent = "If severe allergic reactions occur (e.g., difficulty breathing, swelling of face or throat)";
                    document.getElementById("help2").textContent = "If bite sites become increasingly red, swollen, or filled with pus (possible infection)";
                    document.getElementById("help3").textContent = "If symptoms persist beyond 2 weeks despite treatment";
                    document.getElementById("help4").textContent = "If multiple household members are developing similar bites (possible infestation)";
                    document.getElementById("help5").textContent = "If you develop fever or chills after being bitten";

                    break;


                case "Tick":
                    bugInfo = "DISPLAY TICK INFO HERE";

                    document.getElementById("dtext").textContent = "Expected Duration: 3 to 14 days; longer if disease develops";
                    document.getElementById("stext").textContent = "Severity: Moderate (potentially severe if disease transmitted)";

                    document.getElementById("treat1").textContent = "Remove the tick carefully using tweezers, pulling straight out without twisting";
                    document.getElementById("treat2").textContent = "Clean the bite area thoroughly with soap and water or rubbing alcohol";
                    document.getElementById("treat3").textContent = "Apply an antibiotic ointment to reduce risk of infection";
                    document.getElementById("treat4").textContent = "Monitor the bite site for redness, swelling, or rash over the next 2 weeks";
                    document.getElementById("treat5").textContent = "Consult a doctor if symptoms of tick-borne illness develop";

                    document.getElementById("sym1").textContent = "Small red bump or irritation at bite site";
                    document.getElementById("sym2").textContent = "Itchiness or mild pain around the area";
                    document.getElementById("sym3").textContent = "Possible circular rash";
                    document.getElementById("sym4").textContent = "Fever, chills, or fatigue (possible infection)";
                    document.getElementById("sym5").textContent = "Muscle or joint aches";
                    document.getElementById("sym6").textContent = "Swollen lymph nodes near the bite";

                    document.getElementById("help1").textContent = "If you develop a circular rash or red expanding ring around the bite";
                    document.getElementById("help2").textContent = "If you experience fever, chills, or body aches after a tick bite";
                    document.getElementById("help3").textContent = "If part of the tick remains embedded in your skin after removal";
                    document.getElementById("help4").textContent = "If the bite site becomes infected, red, or draining pus";
                    document.getElementById("help5").textContent = "If you experience neurological symptoms such as facial paralysis or severe headaches";

                    break;                
                case "Berry Bug":
                    bugInfo = "DISPLAY BERRY BUG INFO HERE";
                    break;

                case "Spider":
                    bugInfo = "DISPLAY SPIDER INFO HERE";
                    break;

                case "Fleas":
                    bugInfo = "DISPLAY FLEAS INFO HERE";
                    break;

                case "No":
                    bugInfo = "DISPLAY NO BITE INFO HERE";
                    //getting rid of treatments and other info since there is no bite
                    document.getElementById("isBite").replaceChildren();
                    //all other cases should use similar syntax as bellow to add their relevant data
                    document.getElementById("dtext").textContent = "";
                    document.getElementById("stext").textContent = "";
                    //maybe display some sort of image here since page looks so empty now

                    break;

                case "Mosquito":
                    bugInfo = "DISPLAY MOSQUITO INFO HERE";

                    document.getElementById("dtext").textContent = "Expected Duration: 1 to 3 days";
                    document.getElementById("stext").textContent = "Severity: Low";

                    document.getElementById("treat1").textContent = "Wash the bite area with soap and water to prevent infection";
                    document.getElementById("treat2").textContent = "Apply an ice pack to reduce swelling and itching";
                    document.getElementById("treat3").textContent = "Use an over-the-counter anti-itch or hydrocortisone cream";
                    document.getElementById("treat4").textContent = "Take oral antihistamines to relieve itching and inflammation";
                    document.getElementById("treat5").textContent = "Avoid scratching the bite to prevent infection and scarring";

                    document.getElementById("sym1").textContent = "Raised, itchy red bump at the site of the bite";
                    document.getElementById("sym2").textContent = "Localized swelling or mild redness";
                    document.getElementById("sym3").textContent = "Warmth or tenderness at the bite site";
                    document.getElementById("sym4").textContent = "Clusters of bites in exposed skin areas";
                    document.getElementById("sym5").textContent = "Occasional blistering or darkening of the skin (rare)";
                    document.getElementById("sym6").textContent = "Systemic symptoms like fever or fatigue (if infected or allergic)";

                    document.getElementById("help1").textContent = "If you develop fever, headache, or body aches within a week of being bitten";
                    document.getElementById("help2").textContent = "If swelling spreads significantly or becomes painful";
                    document.getElementById("help3").textContent = "If you notice pus, drainage, or streaking (possible infection)";
                    document.getElementById("help4").textContent = "If you have an allergic reaction (difficulty breathing, swelling of face or throat)";
                    document.getElementById("help5").textContent = "If you live in or have recently traveled to an area with mosquito-borne diseases";

                    break;

            }
            //document.getElementById("bugInfo").textContent = bugInfo;
        </script>

        <!--This image is only displayed for No Bite, to fill the screen-->
        <!-- <img src="name" alt="sillyBug" height="500" width="500"> -->
        
    </div>
</body>

</html>